n, m = map(int, input().split())
paper = [[0] * 511 for i in range(511)]
answer = 0
figure = [[[0,0],[0,1],[1,0],[1,1]],
          [[0,0],[0,1],[0,2],[0,3]],
          [[0,0],[1,0],[2,0],[3,0]],
          [[0,0],[0,1],[0,2],[-1,2]],
          [[0,0],[1,0],[2,0],[2,1]],
          [[0,0],[1,0],[0,1],[0,2]],
          [[0,0],[0,1],[1,1],[2,1]],
          [[0,0],[0,1],[-1,1],[-1,2]],
          [[0,0],[1,0],[1,1],[2,1]],
          [[0,0],[0,1],[0,2],[-1,1]],
          [[0,0],[1,0],[2,0],[1,1]],
          [[0,0],[0,1],[0,2],[1,1]],
          [[0,0],[0,1],[-1,1],[1,1]],
          [[0,0],[0,1],[1,1],[1,2]],
          [[0,0],[1,0],[1,-1],[2,-1]],
          [[0,0],[1,0],[1,1],[1,2]],
          [[0,0],[0,1],[1,0],[2,0]],
          [[0,0],[0,1],[0,2],[1,2]],
          [[0,0],[1,0],[2,0],[2,-1]]
]

for i in range(1, n + 1):
    r = list(map(int, input().split()))
    for j in range(1, m + 1):
        paper[i][j] = r[j - 1]

for i in range(1, 501):
    for j in range(1, 501):
        for k in range(19):
            sum_ = 0
            for l in range(4):
                y = i + figure[k][l][0]
                x = j + figure[k][l][1]  # 수정된 부분
                if paper[y][x] == 0:
                    sum_ = 0
                    break
                sum_ += paper[y][x]
            answer = max(answer, sum_)

print(answer)
